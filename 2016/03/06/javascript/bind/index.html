<!DOCTYPE html><html class="no-js"><head><meta charset="utf-8"><title>司马-Simmer-浅谈 javascript 中的bind</title><meta name="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="icon" href="/favicon.icon"><link rel="stylesheet" href="/css/style.css"><!-- detech broser's env --><script src="/js/modernizr.js" type="text/javascript"></script><meta name="description" content="A Blog Powered By Hexo"></head><body><div class="nav clearfix"><div title="隐藏导航" id="nav-btn" class="nav-guide"><i class="icon nav-icon">&#xe603;</i></div><div class="nav-inner  clearfix"><a href="/" class="nav-item"><div class="nav-item-inner"><div class="icon">&#xe606;</div><span>Home</span></div></a><a href="/archives" class="nav-item"><div class="nav-item-inner"><div class="icon">&#xe602;</div><span>Archives</span></div></a><a href="/categories" class="nav-item"><div class="nav-item-inner"><div class="icon">&#xe604;</div><span>Categorys</span></div></a><a href="/tags" class="nav-item"><div class="nav-item-inner"><div class="icon">&#xe601;</div><span>Tags</span></div></a><a href="/about" class="nav-item"><div class="nav-item-inner"><div class="icon">&#xe605;</div><span>About</span></div></a></div></div><div class="wraper"><div class="main"><section class="content"><div class="post"><article class="post-block"><h2 class="post-title"><a href="/2016/03/06/javascript/bind/" class="post-title-link">浅谈 javascript 中的bind</a></h2><div class="post-subtitle clearfix"><span class="post-date">2016年3月6日</span><div class="post-tag"><a href="/2016/03/06/javascript/bind/"><sapn>JavaScript</sapn><i class="icon">&#xe600;</i></a></div></div><div class="post-content"><p>&#x5173;&#x4E8E;JavaScript&#x7684;<code>bind</code>&#x76F8;&#x4FE1;&#x4F5C;&#x4E3A;&#x4E00;&#x540D;FEer&#x90FD;&#x4E0D;&#x4F1A;&#x611F;&#x5230;&#x964C;&#x751F;&#xFF0C;&#x7531;&#x4E8E;<code>JavaScript</code>&#x4E2D;&#x6709;&#x7740;&#x4E00;&#x4E2A;&#x7279;&#x6B8A;&#x7684;&#x503C;&#x2013;<code>this</code>&#x7684;&#x5B58;&#x5728;&#xFF0C;&#x4E00;&#x4E2A;&#x51FD;&#x6570;&#x53EF;&#x4EE5;&#x5728;&#x4E0D;&#x540C;&#x7684;&#x4E0A;&#x4E0B;&#x6587;&#x4E2D;&#x88AB;&#x8C03;&#x7528;&#xFF0C;&#x6240;&#x4EE5;&#x5173;&#x4E8E;<code>this</code>&#x6211;&#x4EEC;&#x8981;&#x5B66;&#x4F1A;&#x53BB;&#x5206;&#x8FA8;&#x4E0D;&#x540C;&#x7684;&#x573A;&#x666F;&#xFF0C;&#x8FD9;&#x6837;&#x624D;&#x80FD;&#x66F4;&#x597D;&#x7684;&#x53BB;&#x8FD0;&#x7528;JavaScript&#x8FD9;&#x95E8;&#x7075;&#x6D3B;&#x7684;&#x8BED;&#x8A00;</p>
<a id="more"></a>
<h2 id="call-apply-bind"><a href="#call-amp-amp-apply-amp-amp-bind" class="headerlink" title="call &amp;&amp; apply &amp;&amp; bind"></a>call &amp;&amp; apply &amp;&amp; bind <a href="#call-apply-bind" class="header-anchor">#</a></h2><p>&#x5728;&#x771F;&#x6B63;&#x7684;&#x5F00;&#x59CB;&#x4E4B;&#x524D;&#x6211;&#x4EEC;&#x5148;&#x6765;&#x590D;&#x4E60;&#x4E00;&#x4E9B;&#x57FA;&#x672C;&#x77E5;&#x8BC6;.<br><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">Function</span>.prototype.call(thisToBind[,arg1, arg2, ...]);</div><div class="line"><span class="built_in">Function</span>.prototype.apply(thisToBind[,rest <span class="built_in">arguments</span>]);</div><div class="line"><span class="built_in">Function</span>.prototype.bind(thisToBind[,arg1,arg2,...]);</div></pre></td></tr></table></figure></p>
<h4 id="gong-tong-dian"><a href="#&#x5171;&#x540C;&#x70B9;" class="headerlink" title="&#x5171;&#x540C;&#x70B9;:"></a>&#x5171;&#x540C;&#x70B9;: <a href="#gong-tong-dian" class="header-anchor">#</a></h4><p>&#x4F20;&#x5165;&#x7684;&#x7B2C;&#x4E00;&#x4E2A;&#x53C2;&#x6570;&#x90FD;&#x80FD;&#x4F5C;&#x4E3A;&#x8BE5;&#x51FD;&#x6570;&#x8FD0;&#x884C;&#x65F6;&#x5019;&#x7684;<code>this</code>&#x503C;&#x3002;(&#x90FD;&#x80FD;&#x663E;&#x793A;&#x7684;&#x6539;&#x53D8;&#x67D0;&#x4E2A;&#x51FD;&#x6570;&#x8FD0;&#x884C;&#x65F6;&#x5019;&#x7684;<code>this</code>)</p>
<h4 id="bu-tong-dian"><a href="#&#x4E0D;&#x540C;&#x70B9;" class="headerlink" title="&#x4E0D;&#x540C;&#x70B9;:"></a>&#x4E0D;&#x540C;&#x70B9;: <a href="#bu-tong-dian" class="header-anchor">#</a></h4><p><code>call</code> &#x8FD4;&#x56DE;&#x4E00;&#x4E2A;&#x51FD;&#x6570;&#x7684;&#x8FD0;&#x884C;&#x7ED3;&#x679C;&#xFF0C;&#x63A5;&#x53D7;&#x6539;&#x51FD;&#x6570;&#x7684;&#x53C2;&#x6570;&#x4EE5;&#x660E;&#x786E;&#x7684;&#x4E2A;&#x6570;&#x4F20;&#x5165;&#x3002;<br><code>apply</code>&#x8FD4;&#x56DE;&#x4E00;&#x4E2A;&#x51FD;&#x6570;&#x7684;&#x8FD0;&#x884C;&#x7ED3;&#x679C;&#xFF0C;&#x63A5;&#x53D7;&#x7684;&#x53C2;&#x6570;&#x53EF;&#x4EE5;&#x662F;&#x6570;&#x7EC4;&#x6216;&#x8005;&#x662F;&#x7C7B;&#x6570;&#x7EC4;&#x5BF9;&#x8C61;&#x3002;(&#x4EC0;&#x4E48;&#x662F;&#x7C7B;&#x6570;&#x7EC4;&#x5BF9;&#x8C61;&#xFF1F;&#x53EF;&#x4EE5;&#x901A;&#x8FC7;obj[0]&#x8FD9;&#x6837;&#x6570;&#x5B57;&#x5C5E;&#x6027;&#x8BBF;&#x95EE;&#xFF0C;&#x4F46;&#x662F;&#x6CA1;&#x6709;&#x6570;&#x7EC4;&#x7684;&#x65B9;&#x6CD5;(&#x5C31;&#x662F;&#x4E0D;&#x80FD;&#x4F7F;&#x7528;&#x7C7B;&#x4F3C;<code>obj.push()</code>)<br><code>bind</code> &#x8FD4;&#x56DE;&#x4E00;&#x4E2A;&#x51FD;&#x6570;&#xFF0C;&#x8BE5;&#x51FD;&#x6570;&#x8FD0;&#x884C;&#x65F6;&#x5185;&#x90E8;&#x7684;<code>this</code>&#x503C;&#x5C06;&#x4F1A;&#x6307;&#x5411;<code>bind</code>&#x65B9;&#x6CD5;&#x8C03;&#x7528;&#x65F6;&#x5019;&#x4F20;&#x5165;&#x7684;&#x7B2C;&#x4E00;&#x4E2A;&#x503C;&#xFF0C;&#x5E76;&#x4E14;&#x540C;&#x4E00;&#x4E2A;&#x51FD;&#x6570;&#x4E0D;&#x80FD;&#x540C;&#x65F6;<code>bind</code>2&#x6B21;&#x6216;&#x66F4;&#x591A;&#xFF0C;&#x8FD9;&#x70B9;&#x7B49;&#x4E0B;&#x6211;&#x4F1A;&#x548C;&#x5927;&#x5BB6;&#x8BF4;&#x5230;&#x3002;</p>
<h3 id="han-shu-ke-li-hua"><a href="#&#x51FD;&#x6570;&#x67EF;&#x91CC;&#x5316;" class="headerlink" title="&#x51FD;&#x6570;&#x67EF;&#x91CC;&#x5316;"></a>&#x51FD;&#x6570;&#x67EF;&#x91CC;&#x5316; <a href="#han-shu-ke-li-hua" class="header-anchor">#</a></h3><p>&#x4EC0;&#x4E48;&#x662F;&#x51FD;&#x6570;&#x67EF;&#x91CC;&#x5316;&#xFF1F;&#x8FD9;&#x91CC;&#x5F15;&#x7528;<a href="https://zh.wikipedia.org/wiki/%E6%9F%AF%E9%87%8C%E5%8C%96" target="_blank" rel="external">wikipedia</a>&#x4E0A;&#x7684;&#x5B9A;&#x4E49;:</p>
<blockquote>
<p>&#x67EF;&#x91CC;&#x5316;&#xFF08;&#x82F1;&#x8BED;&#xFF1A;Currying&#xFF09;&#xFF0C;&#x53C8;&#x8BD1;&#x4E3A;&#x5361;&#x745E;&#x5316;&#x6216;&#x52A0;&#x91CC;&#x5316;&#xFF0C;&#x662F;&#x628A;&#x63A5;&#x53D7;&#x591A;&#x4E2A;&#x53C2;&#x6570;&#x7684;&#x51FD;&#x6570;&#x53D8;&#x6362;&#x6210;&#x63A5;&#x53D7;&#x4E00;&#x4E2A;&#x5355;&#x4E00;&#x53C2;&#x6570;&#xFF08;&#x6700;&#x521D;&#x51FD;&#x6570;&#x7684;&#x7B2C;&#x4E00;&#x4E2A;&#x53C2;&#x6570;&#xFF09;&#x7684;&#x51FD;&#x6570;&#xFF0C;&#x5E76;&#x4E14;&#x8FD4;&#x56DE;&#x63A5;&#x53D7;&#x4F59;&#x4E0B;&#x7684;&#x53C2;&#x6570;&#x800C;&#x4E14;&#x8FD4;&#x56DE;&#x7ED3;&#x679C;&#x7684;&#x65B0;&#x51FD;&#x6570;&#x7684;&#x6280;&#x672F;&#x3002;</p>
</blockquote>
<p>&#x8FD9;&#x91CC;&#x8BF4;&#x7684;&#x5F88;&#x6E05;&#x695A;&#x4E86;&#xFF0C;&#x51FD;&#x6570;&#x67EF;&#x91CC;&#x5316;&#x5176;&#x5B9E;&#x5C31;&#x662F;&#x5C06;&#x51FD;&#x6570;&#x4E00;&#x6B21;&#x6027;&#x63A5;&#x53D7;&#x6240;&#x6709;&#x53C2;&#x6570;&#x8FDB;&#x884C;&#x8C03;&#x7528;&#x7684;&#x65B9;&#x5F0F;&#x6539;&#x53D8;&#x4E86;&#x4E00;&#x4E0B;&#x800C;&#x5DF2;&#xFF0C;&#x5B83;&#x53EF;&#x80FD;&#x662F;&#x8FD9;&#x4E2A;&#x6837;&#x5B50;&#x7684;:</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">methodA(a, b, c) === methodACurrying(a)(b, c);</div></pre></td></tr></table></figure>
<p>&#x5C31;&#x662F;&#x4E00;&#x4E2A;&#x51FD;&#x6570;&#x73C2;&#x91CC;&#x5316;&#x4E4B;&#x540E;&#x8FD4;&#x56DE;&#x4E00;&#x4E2A;&#x65B0;&#x7684;&#x51FD;&#x6570;&#xFF0C;&#x8FD9;&#x4E2A;&#x51FD;&#x6570;&#x4FDD;&#x5B58;&#x7740;&#x4E4B;&#x524D;&#x9996;&#x6B21;&#x8C03;&#x7528;&#x4F20;&#x5165;&#x7684;&#x53C2;&#x6570;<code>a</code>&#xFF0C;&#x5E76;&#x4E14;&#x5728;&#x8BE5;&#x51FD;&#x6570;&#x6267;&#x884C;&#x7684;&#x65F6;&#x5019;&#x5C06;&#x4E4B;&#x524D;&#x7684;&#x53C2;&#x6570;<code>a</code>&#x52A0;&#x4E0A;<code>b,c</code>&#x4F5C;&#x4E3A;&#x53C2;&#x6570;&#x4E00;&#x8D77;&#x8C03;&#x7528;&#xFF0C;&#x4E5F;&#x5C31;&#x76F8;&#x5F53;&#x4E8E;&#x4EE5;<code>methodA(a, b, c)</code>&#x7684;&#x8C03;&#x7528;&#x5F62;&#x5F0F;<br>&#x6709;&#x70B9;&#x4E0D;&#x61C2;&#xFF1F;&#x6CA1;&#x5173;&#x7CFB;&#xFF0C;&#x6211;&#x4EEC;&#x6765;&#x770B;&#x4E0B;&#x9762;&#x4E00;&#x4E2A;&#x7B80;&#x5355;&#x7684;&#x51FD;&#x6570;&#x67EF;&#x91CC;&#x5316;(currying)&#x7684;&#x6817;&#x5B50;&#xFF1A;<br><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line"></div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">add</span>(<span class="params"> </span>) </span>{  <span class="comment">// &#x5B9A;&#x4E49;&#x4E00;&#x4E2A;&#x7B80;&#x5355;&#x7684;&#x52A0;&#x51FD;&#x6570;</span></div><div class="line">  <span class="keyword">var</span> result = <span class="number">0</span>;</div><div class="line">  <span class="keyword">for</span>(<span class="keyword">var</span> i =<span class="number">0</span>, l = <span class="built_in">arguments</span>.length; i &lt; l; i++) {</div><div class="line">    result += <span class="built_in">arguments</span>[i];</div><div class="line">  }</div><div class="line">  <span class="keyword">return</span> result;</div><div class="line">}</div><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">count</span>(<span class="params"></span>) </span>{ <span class="comment">// count&#x51FD;&#x6570;&#x5B9E;&#x73B0;add&#x51FD;&#x6570;&#x7684;&#x67EF;&#x91CC;&#x5316; &#x65E2;count(a)(b ,c) &lt;==&gt; add(a, b, c)</span></div><div class="line">    <span class="keyword">var</span> args = [].slice.call(<span class="built_in">arguments</span>);</div><div class="line">    <span class="keyword">return</span> <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>{</div><div class="line">        <span class="keyword">return</span> add.apply(<span class="built_in">window</span>, args.concat(<span class="built_in">Array</span>.prototype.slice.apply(<span class="built_in">arguments</span>)));</div><div class="line">    }</div><div class="line">}</div><div class="line">log(add.bind(<span class="built_in">window</span>,<span class="number">1</span>)(<span class="number">2</span>,<span class="number">3</span>)); <span class="comment">// 6</span></div><div class="line">log(count(<span class="number">1</span>)(<span class="number">2</span>, <span class="number">3</span>)); <span class="comment">// 6</span></div><div class="line">log(count(<span class="number">1</span>, <span class="number">2</span>)(<span class="number">3</span>)); <span class="comment">// 6</span></div><div class="line">log(count(<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>)()); <span class="comment">// 6</span></div></pre></td></tr></table></figure></p>
<p>&#x53EF;&#x4EE5;&#x770B;&#x5230;&#xFF0C;&#x901A;&#x8FC7;&#x4F7F;&#x7528;&#x5F3A;&#x5927;&#x7684;&#x95ED;&#x5305;&#x6211;&#x4EEC;&#x5B9E;&#x73B0;&#x4E86;&#x51FD;&#x6570;&#x67EF;&#x91CC;&#x5316;&#x3002;</p>
<ul>
<li>&#x6211;&#x4EEC;&#x5B9A;&#x4E49;&#x4E86;&#x4E00;&#x4E2A;<code>count</code>&#x51FD;&#x6570;&#xFF0C;&#x5728;&#x8FD9;&#x4E2A;&#x51FD;&#x6570;&#x5185;&#x90E8;&#x6211;&#x4EEC;&#x53BF;&#x901A;&#x8FC7;<code>call</code>&#x5C06;<code>count</code>&#x51FD;&#x6570;&#x4F20;&#x5165;&#x7684;&#x53C2;&#x6570;&#x8FDB;&#x884C;&#x4E86;&#x6570;&#x7EC4;&#x5316;(&#x4FDD;&#x5B58;&#x5728;&#x53D8;&#x91CF;<code>args</code>&#x4E2D;)&#xFF0C;&#x5E76;&#x4E14;&#x6700;&#x540E;&#x5B83;&#x8FD4;&#x56DE;&#x7684;&#x662F;&#x4E00;&#x4E2A;&#x51FD;&#x6570;&#xFF0C;&#x8FD9;&#x4E2A;&#x51FD;&#x6570;&#x5305;&#x542B;&#x7740;&#x5BF9;<code>args</code>&#x53D8;&#x91CF;&#x7684;&#x5F15;&#x7528;&#xFF0C;&#x6240;&#x4EE5;&#x80FD;&#x591F;&#x4FDD;&#x8BC1;&#x5728;<code>count</code>&#x51FD;&#x6570;&#x8FD0;&#x884C;&#x8FD4;&#x56DE;&#x7684;&#x533F;&#x540D;&#x51FD;&#x6570;&#x4E2D;&#x4F9D;&#x65E7;&#x80FD;&#x591F;&#x8BBF;&#x95EE;&#x5230;<code>args</code></li>
<li>&#x8FD9;&#x4E2A;&#x53D8;&#x91CF;&#xFF0C;&#x8FD9;&#x4E2A;&#x77E5;&#x8BC6;&#x5C5E;&#x4E8E;JavaScirpt&#x4E2D;&#x7684;&#x95ED;&#x5305;&#x77E5;&#x8BC6;&#xFF0C;&#x8BE6;&#x60C5;&#x53EF;&#x4EE5;&#x67E5;&#x770B;<a href="">&#x8FD9;&#x91CC;</a>&#x3002;</li>
<li>&#x73B0;&#x5728;&#x6211;&#x4EEC;&#x5728;&#x8FD4;&#x56DE;&#x7684;&#x533F;&#x540D;&#x51FD;&#x6570;&#x5185;&#x90E8;&#x5BF9;<code>add</code>&#x51FD;&#x6570;&#x4F7F;&#x7528;<code>apply</code>&#x65B9;&#x6CD5; add&#x51FD;&#x6570;&#x5982;&#x4F55;&#x80FD;&#x8C03;&#x7528;apply&#xFF1F;&#x56E0;&#x4E3A;add&#x662F;Function&#x7C7B;&#x7684;&#x4E00;&#x4E2A;&#x5B9E;&#x4F8B;&#x6240;&#x4EE5;&#x80FD;&#x591F;&#x8BBF;&#x95EE;&#x5230;<code>Function.prototype.apply</code>&#x5B9E;&#x4F8B;&#x516C;&#x5171;&#x65B9;&#x6CD5;&#xFF0C;&#x5DE7;&#x5999;&#x7684;&#x901A;&#x8FC7;<code>args</code>&#x53D8;&#x91CF;(&#x5728;count&#x51FD;&#x6570;&#x4E2D;&#x5DF2;&#x7ECF;&#x88AB;&#x8F6C;&#x5316;&#x4E3A;&#x6570;&#x7EC4;&#x4E86;)&#x7684;concat&#x65B9;&#x6CD5;&#x5C06;&#x540E;&#x9762;&#x4F20;&#x5165;&#x7684;&#x53C2;&#x6570;&#x5148;&#x6570;&#x7EC4;&#x5316;&#x7136;&#x540E;&#x518D;&#x8FDB;&#x884C;&#x5408;&#x5E76;&#x3002;</li>
</ul>
<p>&#x7B80;&#x76F4;&#x5C31;&#x662F;&#x4E00;&#x6C14;&#x5475;&#x6210;&#x7684;&#x554A;^-^ my god !!!<br>&#x522B;&#x6025;!!! &#x4F46;&#x662F;&#x8FD9;&#x4E2A;&#x548C;bind&#x6709;&#x5173;&#x7CFB;&#x4E48;???&#x5F53;&#x7136;&#x6709;&#x5566;&#xFF0C;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x770B;&#x5230;&#x5728;log&#x7B2C;&#x4E00;&#x884C;&#x6211;&#x4EEC;&#x662F;&#x4F7F;&#x7528;&#x4E86;<code>add.bind(window, 1)(2, 3)</code>&#x7684;&#x5F62;&#x5F0F;&#x6765;&#x8C03;&#x7528;&#x7684;&#xFF0C;&#x5B83;&#x6BD4;&#x6211;&#x4EEC;&#x4E0A;&#x9762;&#x7684;<code>count</code>&#x51FD;&#x6570;&#x591A;&#x4E86;&#x4E00;&#x4E2A;&#x4F18;&#x70B9;&#xFF0C;&#x90A3;&#x5C31;&#x662F;<code>this</code>&#x503C;&#x7684;&#x7ED1;&#x5B9A;&#xFF0C;&#x4F7F;&#x7528;<code>bind</code>&#x4F20;&#x5165;&#x7684;&#x7B2C;&#x4E00;&#x4E2A;&#x53C2;&#x6570;&#x4F1A;&#x6210;&#x4E3A;&#x540E;&#x9762;&#x65B0;&#x51FD;&#x6570;&#x8FD0;&#x884C;&#x7684;<code>this</code>&#x503C;&#x5C31;&#x662F;&#x51FD;&#x6570;&#x8FD0;&#x884C;&#x7684;&#x4E0A;&#x4E0B;&#x6587;&#xFF0C;&#x800C;&#x6211;&#x4E0A;&#x9762;&#x5B9A;&#x4E49;&#x7684;count&#x65B9;&#x6CD5;&#x662F;&#x6CA1;&#x6709;&#x7ED1;&#x5B9A;<code>this</code>&#x503C;&#x7684;&#x529F;&#x80FD;&#x7684;.<br>&#x73B0;&#x5728;&#x6211;&#x4EEC;&#x53EF;&#x4EE5;&#x770B;&#x770B;<a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Function/bind" target="_blank" rel="external">MDN</a>&#x4E0A;&#x9762;&#x5173;&#x4E8E;bind&#x7684;&#x89E3;&#x91CA;: </p>
<blockquote>
<p> bind()&#x65B9;&#x6CD5;&#x4F1A;&#x521B;&#x5EFA;&#x4E00;&#x4E2A;&#x65B0;&#x51FD;&#x6570;&#xFF0C;&#x79F0;&#x4E3A;&#x7ED1;&#x5B9A;&#x51FD;&#x6570;&#xFF0C;&#x5F53;&#x8C03;&#x7528;&#x8FD9;&#x4E2A;&#x7ED1;&#x5B9A;&#x51FD;&#x6570;&#x65F6;&#xFF0C;&#x7ED1;&#x5B9A;&#x51FD;&#x6570;&#x4F1A;&#x4EE5;&#x521B;&#x5EFA;&#x5B83;&#x65F6;&#x4F20;&#x5165; bind()&#x65B9;&#x6CD5;&#x7684;&#x7B2C;&#x4E00;&#x4E2A;&#x53C2;&#x6570;&#x4F5C;&#x4E3A; this&#xFF0C;&#x4F20;&#x5165; bind() &#x65B9;&#x6CD5;&#x7684;&#x7B2C;&#x4E8C;&#x4E2A;&#x4EE5;&#x53CA;&#x4EE5;&#x540E;&#x7684;&#x53C2;&#x6570;&#x52A0;&#x4E0A;&#x7ED1;&#x5B9A;&#x51FD;&#x6570;&#x8FD0;&#x884C;&#x65F6;&#x672C;&#x8EAB;&#x7684;&#x53C2;&#x6570;&#x6309;&#x7167;&#x987A;&#x5E8F;&#x4F5C;&#x4E3A;&#x539F;&#x51FD;&#x6570;&#x7684;&#x53C2;&#x6570;&#x6765;&#x8C03;&#x7528;&#x539F;&#x51FD;&#x6570;&#x3002;</p>
</blockquote>
<p>&#x8FD9;&#x4E2A;&#x5B9A;&#x4E49;&#x662F;&#x4E0D;&#x662F;&#x5F88;&#x719F;&#x6089;&#xFF1F;&#x7B54;&#x6848;&#x662F;&#x662F;&#x7684;&#xFF0C;&#x5B83;&#x548C;&#x6211;&#x4EEC;&#x4E0A;&#x9762;&#x63D0;&#x5230;&#x7684;&#x51FD;&#x6570;&#x67EF;&#x91CC;&#x5316;&#x5B9A;&#x4E49;&#x51E0;&#x4E4E;&#x4E00;&#x6837;&#xFF0C;&#x9664;&#x4E86;&#x4E00;&#x4E2A;&#x5730;&#x65B9;&#xFF0C;&#x90A3;&#x5C31;&#x662F;<em><code>bind</code>&#x6709;&#x7ED1;&#x5B9A;<code>this</code>&#x7684;&#x529F;&#x80FD;</em>&#x800C;&#x6211;&#x4EEC;&#x4E0A;&#x9762;&#x63D0;&#x5230;&#x7684;&#x67EF;&#x91CC;&#x5316;&#x662F;&#x6CA1;&#x6709;&#x5305;&#x542B;&#x7ED1;&#x5B9A;<code>this</code>&#x8FD9;&#x4E00;&#x9879;&#x7684;</p>
<h3 id="you-hua"><a href="#&#x4F18;&#x5316;" class="headerlink" title="&#x4F18;&#x5316;"></a>&#x4F18;&#x5316; <a href="#you-hua" class="header-anchor">#</a></h3><p>&#x4E0A;&#x9762;&#x6211;&#x4EEC;&#x7B80;&#x5355;&#x5B9E;&#x73B0;&#x7684;<code>count</code>&#x51FD;&#x6570;&#x5176;&#x5B9E;&#x79BB;<code>bind</code>&#x8FD8;&#x6709;&#x4E00;&#x4E9B;&#x8DDD;&#x79BB;&#xFF0C;&#x6BD4;&#x5982;&#xFF1A;</p>
<ul>
<li>&#x8FD4;&#x56DE;&#x7684;&#x51FD;&#x6570;&#x6CA1;&#x6709;&#x7ED1;&#x5B9A;<code>this</code></li>
<li>&#x53EA;&#x80FD;&#x901A;&#x8FC7;<code>count()</code>&#x5BF9;&#x5B83;&#x8FDB;&#x884C;&#x8C03;&#x7528;</li>
</ul>
<p>&#x90A3;&#x4E48;&#x5982;&#x4F55;&#x8BA9;&#x6240;&#x6709;&#x7684;function&#x7C7B;&#x90FD;&#x80FD;&#x4F7F;&#x7528;count&#x65B9;&#x6CD5;&#x5462;&#xFF1F;&#x6211;&#x4EEC;&#x6765;&#x6539;&#x88C5;&#x4E00;&#x4E0B;count&#x51FD;&#x6570;&#xFF0C;&#x5E76;&#x628A;&#x5B83;&#x6302;&#x8F7D;&#x5728;<code>Funcition.prototype</code>Funcition&#x8FD9;&#x4E2A;&#x539F;&#x578B;&#x5BF9;&#x8C61;&#x4E0A;</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">count</span>(<span class="params"></span>) </span>{</div><div class="line">    <span class="keyword">var</span> args = [].slice.call(<span class="built_in">arguments</span>, <span class="number">1</span>);</div><div class="line">    <span class="keyword">var</span> self = <span class="keyword">this</span>; <span class="comment">// save this</span></div><div class="line">    <span class="keyword">return</span> <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>{</div><div class="line">        <span class="keyword">return</span> add.apply(self, args.concat(<span class="built_in">Array</span>.prototype.slice.apply(<span class="built_in">arguments</span>)));</div><div class="line">    }</div><div class="line">}</div><div class="line"><span class="keyword">if</span>(!<span class="built_in">Function</span>.prototype.count) {</div><div class="line">  <span class="built_in">Function</span>.prototype.count = count;</div><div class="line">};</div></pre></td></tr></table></figure>
<p>&#x597D;&#x4E86;&#x73B0;&#x5728;&#x770B;&#x8D77;&#x6765;&#x597D;&#x50CF;&#x662F;&#x6DFB;&#x52A0;&#x4E86;&#x7ED1;&#x5B9A;<code>this</code>&#x529F;&#x80FD;&#x5E76;&#x4E14;&#x6BCF;&#x4E2A;funcition&#x7C7B;&#x90FD;&#x80FD;&#x8BBF;&#x95EE;&#x4E86;&#x3002;&#x4F46;&#x662F;&#x6709;&#x4E00;&#x5929;&#x6211;&#x4EEC;&#x53D1;&#x73B0;&#x8FD9;&#x6837;&#x8FD8;&#x662F;&#x592A;&#x9EBB;&#x70E6;&#x4E86;&#xFF0C;&#x8BBE;&#x60F3;&#x4E00;&#x4E0B;&#xFF0C;&#x6211;&#x4EEC;&#x8FD9;&#x91CC;&#x53EA;&#x662F;&#x8BA9;&#x6BCF;&#x4E2A;&#x51FD;&#x6570;&#x7ED1;&#x5B9A;count&#x65B9;&#x6CD5;&#xFF0C;&#x90A3;&#x4E48;&#x5982;&#x679C;&#x8FD8;&#x6709;&#x51CF;&#x6CD5;&#x8FD0;&#x7B97;&#x548C;&#x4E58;&#x6CD5;&#x8FD0;&#x7B97;&#x5462;&#xFF1F;&#x6211;&#x4EEC;&#x96BE;&#x9053;&#x4E00;&#x4E2A;&#x4E2A;&#x7684;&#x53BB;&#x6DFB;&#x52A0;&#x5230;Function&#x7684;&#x539F;&#x578B;&#x4E0A;&#xFF1F;(&#x8FD9;&#x91CC;&#x4E3E;&#x4F8B;&#x7684;&#x52A0;&#x51CF;&#x4E58;&#x6CD5;&#x53EA;&#x662F;&#x4F8B;&#x5B50;&#xFF0C;&#x5B9E;&#x9645;&#x7684;&#x9879;&#x76EE;&#x9700;&#x6C42;&#x5F53;&#x7136;&#x4F1A;&#x6709;&#x5F88;&#x591A;&#x4E0D;&#x540C;&#x529F;&#x80FD;&#x7684;&#x51FD;&#x6570;)&#xFF0C;&#x4F1F;&#x5927;&#x7684;&#x5F00;&#x53D1;&#x8005;&#x4E5F;&#x60F3;&#x5230;&#x4E86;&#xFF0C;&#x8FD9;&#x4E2A;&#x6839;&#x672C;&#x4E0D;&#x662F;&#x529E;&#x6CD5;&#x554A;&#xFF1F;&#x4E8E;&#x662F;&#x4E4E;&#xFF0C;bind&#x65B9;&#x6CD5;&#x5C31;&#x8FD9;&#x6837;&#x51FA;&#x73B0;&#x4E86;&#x3002;</p>
<h3 id="bind-zhi-duo-shao"><a href="#bind-&#x77E5;&#x591A;&#x5C11;" class="headerlink" title="bind &#x77E5;&#x591A;&#x5C11;"></a>bind &#x77E5;&#x591A;&#x5C11; <a href="#bind-zhi-duo-shao" class="header-anchor">#</a></h3><p>&#x5206;&#x5206;&#x949F;&#x5B9E;&#x73B0;&#x4E00;&#x4E2A;bind&#x65B9;&#x6CD5;&#x554A;&#x6709;&#x6728;&#x6709;~<br><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">bind</span>(<span class="params">ObjToBind</span>) </span>{ <span class="comment">// ObjToBind =&gt; &#x5728;self&#x8C03;&#x7528;&#x7684;&#x65F6;&#x5019;&#x51FD;&#x6570;&#x5185;&#x90E8;this&#x7684;&#x6307;&#x5411;</span></div><div class="line">    <span class="keyword">var</span> self = <span class="keyword">this</span>; <span class="comment">// save this</span></div><div class="line">    <span class="keyword">var</span> args = [].slice.call(<span class="built_in">arguments</span>, <span class="number">1</span>); <span class="comment">// &#x6570;&#x7EC4;&#x5316; &#x53BB;&#x6389;&#x4F20;&#x5165;&#x7684;&#x7B2C;&#x4E00;&#x4E2A;&#x53C2;&#x6570;</span></div><div class="line">    <span class="keyword">return</span> <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>{ <span class="comment">// &#x8FD4;&#x56DE;&#x533F;&#x540D;&#x51FD;&#x6570;(&#x95ED;&#x5305;)</span></div><div class="line">      self.apply(ObjToBind, args.concat([].slice.call(<span class="built_in">arguments</span>))); <span class="comment">// &#x5408;&#x5E76;&#x53C2;&#x6570;&#x6267;&#x884C;&#x51FD;&#x6570;</span></div><div class="line">    }</div><div class="line">  }</div></pre></td></tr></table></figure></p>
<p>&#x7531;&#x4E8E;<code>Function.prototype.bind</code>&#x65B9;&#x6CD5;&#x662F;&#x5728;ECMAScript5&#x4E2D;&#x624D;&#x88AB;&#x6DFB;&#x52A0;&#x8FDB;&#x53BB;&#x7684;&#xFF0C;&#x5BF9;&#x4E8E;IE8&#x4E0B;&#x8FD9;&#x79CD;&#x8FDC;&#x53E4;&#x6D4F;&#x89C8;&#x5668;&#x6765;&#x8BF4;&#x662F;&#x65E0;&#x6CD5;&#x7406;&#x89E3;&#x7684;&#xFF0C;&#x4F46;&#x662F;&#x53EF;&#x80FD;&#x6211;&#x4EEC;&#x5B9E;&#x9645;&#x7684;&#x9879;&#x76EE;&#x4E2D;&#x7528;&#x5230;&#x4E86;bind&#x65B9;&#x6CD5;&#x540C;&#x65F6;&#x6211;&#x4EEC;&#x4E5F;&#x9700;&#x8981;&#x53BB;&#x517C;&#x5BB9;IE8&#xFF0C;&#x8FD9;&#x4E2A;&#x65F6;&#x5019;&#x5C31;&#x8981;&#x4EBA;&#x4E3A;&#x624B;&#x52A8;&#x7684;&#x53BB;&#x6269;&#x5C55;<code>Function.prototype</code>&#x5BF9;&#x8C61;&#x4E0A;&#x7684;&#x65B9;&#x6CD5;&#x4E86;&#xFF0C;&#x6211;&#x4EEC;&#x6765;&#x4F18;&#x5316;&#x4E00;&#x4E0B;&#x4E0A;&#x9762;&#x7684;bind&#x65B9;&#x6CD5;<br><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>{</div><div class="line">  <span class="built_in">Function</span>.prototype.bind = <span class="built_in">Function</span>.prototype.bind || <span class="function"><span class="keyword">function</span> (<span class="params">ObjToBind </span>) </span>{</div><div class="line">    <span class="keyword">var</span> self = <span class="keyword">this</span>; <span class="comment">// save this</span></div><div class="line">    <span class="keyword">var</span> args = [].slice.call(<span class="built_in">arguments</span>, <span class="number">1</span>); <span class="comment">// &#x6570;&#x7EC4;&#x5316; </span></div><div class="line">    <span class="keyword">return</span> <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>{</div><div class="line">      self.apply(ObjFnToBind, args.concat([].slice.call(<span class="built_in">arguments</span>)));</div><div class="line">    }</div><div class="line">  }</div><div class="line">})</div></pre></td></tr></table></figure></p>
<p>&#x4E0A;&#x9762;&#x7684;&#x4EE3;&#x7801;&#x505A;&#x4E86;&#x51E0;&#x4EF6;&#x4E8B;&#x60C5;:</p>
<ul>
<li>&#x4F7F;&#x7528;&#x7ACB;&#x5373;&#x6267;&#x884C;&#x533F;&#x540D;&#x8868;&#x8FBE;&#x5F0F;(IIFE) &#xFF0D;&#xFF0D;&#xFF0D; Immediately-Invoked Function Expression &#x907F;&#x514D;&#x5168;&#x5C40;&#x6C61;&#x67D3;</li>
<li>&#x53EA;&#x9700;&#x8981;&#x8FD0;&#x884C;&#x4E00;&#x6B21;&#x533F;&#x540D;&#x51FD;&#x6570;&#x5373;&#x53EF;&#x89E3;&#x51B3;<code>bind</code>&#x95EE;&#x9898; &#x65E0;&#x9700;&#x6BCF;&#x6B21;&#x8C03;&#x7528;<code>bind</code>&#x68C0;&#x67E5;&#x662F;&#x5426;&#x5B58;&#x5728;<code>Function.prototype</code>&#x4E0A;&#x9762;</li>
<li>&#x8FD4;&#x56DE;&#x7684;&#x51FD;&#x6570;&#x53EF;&#x4EE5;&#x63A5;&#x53D7;&#x4EFB;&#x610F;&#x4E2A;&#x6570;&#x7684;&#x53C2;&#x6570;&#x6765;&#x8FDB;&#x884C;&#x8C03;&#x7528;&#xFF0C;&#x8FD9;&#x5F97;&#x76CA;&#x4E8E;<code>apply</code>&#x7684;&#x4F7F;&#x7528;</li>
</ul>
<p>&#x8FD9;&#x5C31;&#x662F;bind&#x7684;&#x597D;&#x5904;&#xFF0C;&#x80FD;&#x591F;&#x7ED1;&#x5B9A;&#x51FD;&#x6570;&#x8FD0;&#x884C;&#x7684;&#x4E0A;&#x4E0B;&#x6587;&#x3002;&#x8BD5;&#x60F3;&#x4E00;&#x4E0B;&#xFF0C;&#x4E00;&#x4E9B;&#x4E8B;&#x4EF6;&#x5904;&#x7406;&#x7A0B;&#x5E8F;&#x91CC;&#x9762;&#xFF0C;&#x6211;&#x4EEC;&#x5F80;&#x5F80;&#x8981;&#x6CE8;&#x610F;<code>this</code>&#x7684;&#x53D6;&#x503C;&#xFF0C;&#x56E0;&#x4E3A;&#x5728;&#x8FD9;&#x4E9B;&#x4E8B;&#x4EF6;&#x5904;&#x7406;&#x7A0B;&#x5E8F;&#x91CC;&#x9762;&#x7684;<code>this</code>&#x503C;&#x4F1A;&#x6709;&#x6240;&#x4E0D;&#x540C;&#xFF0C;&#x8FD9;&#x4E2A;&#x65F6;&#x5019;&#x5982;&#x679C;&#x6211;&#x4EEC;&#x80FD;&#x5BF9;&#x8FD9;&#x4E9B;&#x4E8B;&#x4EF6;&#x5904;&#x7406;&#x51FD;&#x6570;&#x6765;&#x8FDB;&#x884C;<code>bind</code>&#x7684;&#x8BDD;&#xFF0C;&#x90A3;&#x5C31;&#x53EF;&#x4EE5;&#x653E;&#x5FC3;&#x7684;&#x5728;&#x4E8B;&#x4EF6;handle&#x91CC;&#x9762;&#x4F7F;&#x7528;<code>this</code>&#x5566;&#xFF5E;&#xFF5E;&#xFF5E;&#xFF5E;&#x4F46;&#x662F;&#x6211;&#x4EEC;&#x4E0A;&#x9762;&#x53EA;&#x662F;&#x7B80;&#x5355;&#x7684;&#x5B9E;&#x73B0;&#x4E86;<code>bind</code>&#xFF0C;&#x5728;&#x60F3;&#x4E00;&#x4E0B;&#x6211;&#x4EEC;&#x901A;&#x8FC7;&#x6267;&#x884C;<code>bind</code>&#x65B9;&#x6CD5;&#x8FD4;&#x56DE;&#x7684;&#x533F;&#x540D;&#x51FD;&#x6570;&#x8FD8;&#x662F;&#x6709;&#x7F3A;&#x9677;&#x7684;</p>
<ul>
<li>&#x6BD4;&#x5982;&#x8BF4;&#x5982;&#x679C;&#x6211;&#x4EEC;&#x7ED1;&#x5B9A;&#x7684;&#x51FD;&#x6570;&#x539F;&#x578B;&#x4E0A;&#x6709;&#x8BB8;&#x591A;&#x6211;&#x4EEC;&#x5B9A;&#x4E49;&#x597D;&#x7684;&#x65B9;&#x6CD5;&#xFF0C;&#x4F46;&#x662F;&#x8FD9;&#x4E2A;&#x8FD4;&#x56DE;&#x7684;&#x533F;&#x540D;&#x51FD;&#x6570;&#x53EA;&#x662F;&#x7B80;&#x5355;&#x7684;&#x5305;&#x88F9;&#x4E86;&#x4E00;&#x4E0B;&#xFF0C;&#x5728;&#x8FD9;&#x4E2A;&#x533F;&#x540D;&#x51FD;&#x6570;&#x4E0B;&#x8C03;&#x7528;&#x5728;&#x524D;&#x9762;&#x88AB;&#x7ED1;&#x5B9A;&#x51FD;&#x6570;&#x5BF9;&#x8C61;&#x539F;&#x578B;&#x4E0A;&#x9762;&#x5B9A;&#x4E49;&#x7684;&#x65B9;&#x6CD5;&#x5C5E;&#x6027;&#x5E76;&#x4E0D;&#x80FD;&#x591F;&#x88AB;&#x8BBF;&#x95EE;&#x3002;</li>
</ul>
<p>&#x5565;&#xFF1F;&#x6CA1;&#x542C;&#x61C2;&#xFF1F;&#x62B1;&#x6B49;&#x6211;&#x8BED;&#x8A00;&#x8868;&#x8FBE;&#x80FD;&#x529B;&#x8FD8;&#x662F;&#x6709;&#x5F85;&#x52A0;&#x5F3A;&#xFF0C;&#x90A3;&#x6211;&#x4EEC;&#x8FD8;&#x662F;&#x6765;&#x4E0A;&#x4EE3;&#x7801;&#x5427;&#xFF5E;&#x5C0F;&#x513F;&#xFF0C;&#x7ED9;&#x6211;&#x6765;&#x4E00;&#x58F6;&#x4E0A;&#x597D;&#x7684;&#x4EE3;&#x7801;~~</p>
<h2 id="mdn-bind-polyfill"><a href="#MDN-Bind-polyfill" class="headerlink" title="MDN Bind polyfill"></a>MDN Bind polyfill <a href="#mdn-bind-polyfill" class="header-anchor">#</a></h2><p>&#x90A3;&#x4E48;&#x5982;&#x4F55;&#x66F4;&#x52A0;&#x4F18;&#x96C5;&#x7684;&#x5B9E;&#x73B0;&#x539F;&#x751F;&#x7684;<code>bind</code>&#x51FD;&#x6570;&#x5462;&#xFF1F; &#x8BA9;&#x6211;&#x4EEC;&#x4E00;&#x8D77;&#x6765;&#x770B;&#x770B;MDN&#x4E0A;&#x7684;&#x5173;&#x4E8E;bind&#x65B9;&#x6CD5;&#x7684;Polifill&#x5427;<br>&#x5177;&#x4F53;&#x7684;&#x4F8B;&#x5B50;&#x53EF;&#x4EE5;&#x770B;&#x4E0B;&#x9762;&#x8FD9;&#x6BB5;&#x4EE3;&#x7801;&#xFF0C;&#x6458;&#x6284;&#x81EA;<a href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Function/bind" target="_blank" rel="external">MDN Bind</a><br><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">if</span> (!<span class="built_in">Function</span>.prototype.bind) {</div><div class="line">  <span class="built_in">Function</span>.prototype.bind = <span class="function"><span class="keyword">function</span> (<span class="params">oThis</span>) </span>{</div><div class="line">    <span class="keyword">if</span> (<span class="keyword">typeof</span> <span class="keyword">this</span> !== <span class="string">&quot;function&quot;</span>) {</div><div class="line">      <span class="comment">// closest thing possible to the ECMAScript 5</span></div><div class="line">      <span class="comment">// internal IsCallable function</span></div><div class="line">      <span class="keyword">throw</span> <span class="keyword">new</span> <span class="built_in">TypeError</span>(<span class="string">&quot;Function.prototype.bind - what is trying to be bound is not callable&quot;</span>);</div><div class="line">    }</div><div class="line">    <span class="keyword">var</span> aArgs = <span class="built_in">Array</span>.prototype.slice.call(<span class="built_in">arguments</span>, <span class="number">1</span>), </div><div class="line">        fToBind = <span class="keyword">this</span>, </div><div class="line">        fNOP = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>{},</div><div class="line">        fBound = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>{</div><div class="line">          <span class="keyword">return</span> fToBind.apply(<span class="keyword">this</span> <span class="keyword">instanceof</span> fNOP</div><div class="line">                                 ? <span class="keyword">this</span></div><div class="line">                                 : oThis || <span class="keyword">this</span>,</div><div class="line">                               aArgs.concat(<span class="built_in">Array</span>.prototype.slice.call(<span class="built_in">arguments</span>)));</div><div class="line">        };</div><div class="line"></div><div class="line">    fNOP.prototype = <span class="keyword">this</span>.prototype;</div><div class="line">    fBound.prototype = <span class="keyword">new</span> fNOP();</div><div class="line"></div><div class="line">    <span class="keyword">return</span> fBound;</div><div class="line">  };</div><div class="line">}</div></pre></td></tr></table></figure></p>
<h3 id="fen-xi-bind-de-shi-xian"><a href="#&#x5206;&#x6790;Bind&#x7684;&#x5B9E;&#x73B0;" class="headerlink" title="&#x5206;&#x6790;Bind&#x7684;&#x5B9E;&#x73B0;"></a>&#x5206;&#x6790;Bind&#x7684;&#x5B9E;&#x73B0; <a href="#fen-xi-bind-de-shi-xian" class="header-anchor">#</a></h3><p>&#x53EF;&#x80FD;&#x5927;&#x5BB6;&#x5BF9;&#x4E8E;&#x4E0A;&#x9762;&#x7684;&#x4EE3;&#x7801;&#x4F1A;&#x6709;&#x4E00;&#x4E9B;&#x7591;&#x60D1;&#xFF0C;&#x6211;&#x5F53;&#x65F6;&#x662F;&#x770B;&#x4E86;&#x597D;&#x597D;&#x591A;&#x904D;&#xFF0C;&#x81EA;&#x5DF1;&#x60F3;&#x4E86;&#x597D;&#x51E0;&#x6B21;&#x624D;&#x5168;&#x90E8;&#x660E;&#x767D;&#x8FD9;&#x5176;&#x4E2D;&#x7684;&#x539F;&#x7406;&#xFF0C;&#x771F;&#x7684;&#x4E0D;&#x5F97;&#x4E0D;&#x4F69;&#x670D;&#x524D;&#x8F88;&#x4EEC;&#x7684;&#x601D;&#x7EF4;&#x6DF1;&#x5EA6;&#x548C;&#x601D;&#x7EF4;&#x5E7F;&#x5EA6;&#xFF0C;&#x628A;&#x4E00;&#x5207;&#x95EE;&#x9898;&#x90FD;&#x60F3;&#x5230;&#x4E86;&#xFF01;&#x6211;&#x4EEC;&#x6765;&#x4E00;&#x6B65;&#x6B65;&#x5206;&#x6790;&#x5427;</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">if</span> (<span class="keyword">typeof</span> <span class="keyword">this</span> !== <span class="string">&quot;function&quot;</span>) {</div><div class="line">    <span class="comment">// closest thing possible to the ECMAScript 5</span></div><div class="line">    <span class="comment">// internal IsCallable function</span></div><div class="line">    <span class="keyword">throw</span> <span class="keyword">new</span> <span class="built_in">TypeError</span>(<span class="string">&quot;Function.prototype.bind - what is trying to be bound is not callable&quot;</span>);</div><div class="line">}</div></pre></td></tr></table></figure>
<p>&#x68C0;&#x6D4B;&#x8C03;&#x7528;<code>bind</code>&#x65B9;&#x6CD5;&#x7684; &#x662F;&#x4E0D;&#x662F;&#x51FD;&#x6570;&#xFF0C;&#x5982;&#x679C;&#x4E0D;&#x662F;&#x51FD;&#x6570;&#x7684;&#x8BDD;&#x90A3;&#x8FD8;&#x73A9;&#x4E2A;&#x7403;&#x554A;&#x3002;&#x76F4;&#x63A5;&#x629B;&#x51FA;&#x9519;&#x8BEF;&#x5E76;&#x8FD4;&#x56DE;</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> aArgs = <span class="built_in">Array</span>.prototype.slice.call(<span class="built_in">arguments</span>, <span class="number">1</span>), <span class="comment">// &#x53C2;&#x6570;&#x6570;&#x7EC4;&#x5316; make to array</span></div><div class="line">   fToBind = <span class="keyword">this</span>, <span class="comment">// save this &#x4FDD;&#x5B58;&#x8C03;&#x7528;bind&#x7684;&#x51FD;&#x6570;&#x5BF9;&#x8C61;</span></div><div class="line">   fNOP = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>{}, <span class="comment">// &#x5B9A;&#x4E49;&#x4E00;&#x4E2A;&#x7A7A;&#x51FD;&#x6570; &#x540E;&#x9762;&#x4F1A;&#x8BB2;&#x5230;&#x4ED6;&#x7684;&#x610F;&#x4E49; &#x8FD9;&#x91CC;&#x5C31;&#x77E5;&#x9053;&#x6709;&#x8FD9;&#x4E48;&#x4E00;&#x4E2A;&#x7A7A;&#x7684;&#x51FD;&#x6570;&#x5C31;&#x597D;&#x4E86;&#x3002;</span></div><div class="line">   fBound = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>{} ... <span class="comment">// bind&#x8FD0;&#x884C;&#x8FD4;&#x56DE;&#x7684;&#x51FD;&#x6570;</span></div></pre></td></tr></table></figure>
<p>&#x8FD9;&#x4E00;&#x6B65;&#x5B9A;&#x4E49;&#x4E86;&#x4E00;&#x4E9B;&#x53D8;&#x91CF;&#xFF0C;&#x5305;&#x62EC;&#x4FDD;&#x5B58;&#x8C03;&#x7528;&#x7684;&#x6570;&#x7EC4;<code>aArgs</code>&#xFF0C;&#x8C03;&#x7528;<code>bind</code>&#x7684;&#x51FD;&#x6570;<code>fToBind</code>&#xFF0C;&#x8FD4;&#x56DE;&#x7684;&#x51FD;&#x6570;<code>fBound</code>&#xFF0C;&#x8FD8;&#x6709;&#x4E00;&#x4E2A;&#x795E;&#x79D8;&#x7684;&#x7A7A;&#x51FD;&#x6570;<code>fNOP</code>&#xFF0C;&#x5BF9;&#x4E8E;<code>fNOP</code>&#x6211;&#x4EEC;&#x6253;&#x4E2A;&#x95EE;&#x53F7;&#x4E00;&#xFF1F;</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">fBound = <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>{</div><div class="line">  <span class="keyword">return</span> fToBind.apply(<span class="keyword">this</span> <span class="keyword">instanceof</span> fNOP</div><div class="line">                      ? <span class="keyword">this</span></div><div class="line">                      : oThis || <span class="keyword">this</span>,</div><div class="line">                      aArgs.concat(<span class="built_in">Array</span>.prototype.slice.call(<span class="built_in">arguments</span>)));</div><div class="line">};</div></pre></td></tr></table></figure>
<p>&#x8FD9;&#x91CC;&#x5C31;&#x662F;&#x5B9A;&#x4E49;&#x8FD4;&#x56DE;&#x51FD;&#x6570;&#x5185;&#x90E8;&#x7684;&#x903B;&#x8F91;&#x4E86;&#xFF0C;&#x6211;&#x548C;&#x6211;&#x4EEC;&#x4E0A;&#x9762;&#x81EA;&#x5DF1;&#x5B9E;&#x73B0;&#x7684;&#x7B80;&#x5355;<code>bind</code>&#x51FD;&#x6570;&#x8FD4;&#x56DE;&#x7684;&#x533F;&#x540D;&#x51FD;&#x6570;&#x8FD8;&#x662F;&#x6709;&#x4E9B;&#x533A;&#x522B;&#x7684;,&#x6BD4;&#x5982;&#x8BF4;&#x7B2C;&#x4E00;&#x4E2A;&#x53C2;&#x6570;&#x8FD9;&#x91CC;&#x662F;&#x7528;&#x4E86;&#x6761;&#x4EF6;&#x8FD0;&#x7B97;&#x7B26;<code>this instanceof fNOP ? this : oThis || this</code> &#x8FD9;&#x91CC;&#x6253;&#x4E2A;&#x95EE;&#x53F7;&#x4E8C;&#xFF1F;<br><figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">fNOP.prototype = <span class="keyword">this</span>.prototype; <span class="comment">// &#x8BA9;&#x7A7A;&#x51FD;&#x6570;&#x7684;&#x539F;&#x578B;&#x6267;&#x884C;this&#x539F;&#x578B;</span></div><div class="line">fBound.prototype = <span class="keyword">new</span> fNOP(); <span class="comment">// &#x8FD4;&#x56DE;&#x7684;&#x51FD;&#x6570;&#x539F;&#x578B;&#x4E3A;&#x7A7A;&#x51FD;&#x6570;&#x7684;&#x5B9E;&#x4F8B; &#x4FDD;&#x5B58;&#x7740;&#x6307;&#x5411;fNOP&#x7684;&#x539F;&#x578B;&#x7684;&#x6307;&#x9488; </span></div><div class="line"><span class="keyword">return</span> fBound;</div></pre></td></tr></table></figure></p>
<p>&#x770B;&#x5230;&#x8FD9;&#x91CC;&#x7EC8;&#x4E8E;&#x604D;&#x7136;&#x5927;&#x609F;&#x4E86;&#xFF0C;&#x8FD9;&#x4E2A;&#x4E0D;&#x662F;&#x7EE7;&#x627F;&#x4E48;&#xFF0C;&#x901A;&#x8FC7;&#x4E00;&#x4E2A;&#x7A7A;&#x51FD;&#x6570;&#x4F5C;&#x4E3A;&#x4E2D;&#x4ECB;&#xFF0C;&#x8BA9;&#x8FD4;&#x56DE;&#x7684;<code>fBound</code>&#x51FD;&#x6570;&#x7684;&#x539F;&#x578B;&#x94FE;&#x4E0A;&#x5305;&#x542B;<code>this</code>&#x4E5F;&#x5C31;&#x662F;&#x8C03;&#x7528;<code>bind</code>&#x7684;&#x51FD;&#x6570;&#x3002;&#x8FD9;&#x4E2A;&#x4E5F;&#x5C31;&#x89E3;&#x51B3;&#x4E86;&#x6211;&#x4EEC;&#x4E0A;&#x9762;&#x6240;&#x8BF4;&#x7684;<code>bind</code>&#x540E;&#x7684;&#x51FD;&#x6570;&#x539F;&#x578B;&#x94FE;&#x7684;&#x4E2D;&#x65AD;&#x7684;&#x60C5;&#x51B5;&#x3002;&#x95EE;&#x53F7;&#x4E00;&#x89E3;&#x51B3;!!!</p>
<p>&#x8C22;&#x8C22;&#x5927;&#x5BB6;&#x9605;&#x8BFB;&#xFF0C;&#x518D;&#x89C1;~<br>&#x54CE;&#xFF0C;&#x7B49;&#x7B49;&#xFF0C;&#x5367;&#x69FD;&#xFF0C;&#x8FD8;&#x6709;&#x95EE;&#x9898;&#x4E8C;&#x5462;!!!! &#x6CE5;TM&#x662F;&#x5728;&#x9017;&#x6211;&#x554A;&#xFF0C;&#x6316;&#x5751;&#x4E0D;&#x586B;&#x5145;&#xFF0C;&#x83CA;&#x82B1;&#x4E07;&#x4EBA;&#x6345;org<br>&#x56DE;&#x5F52;&#x539F;&#x610F;&#xFF0C;<code>this instanceof fNOP ? this : oThis || this</code> &#x5224;&#x65AD;<code>this</code>&#x7684;&#x539F;&#x578B;&#x94FE;&#x4E0A;&#x6709;<code>fNOP</code>&#x4E48;&#xFF0C;&#x5982;&#x679C;&#x5305;&#x542B;&#x5C31;&#x8BF4;&#x660E;&#x4E86;<code>fNOP</code>&#x51FD;&#x6570;&#x662F;&#x88AB;&#x4F5C;&#x4E3A;&#x51FD;&#x6570;&#x6784;&#x9020;&#x5668;&#x8C03;&#x7528;&#x7684;&#xFF0C;&#x6240;&#x4EE5;&#x8FD9;&#x91CC;&#x7684;<code>this</code>&#x5C31;&#x4E0D;&#x80FD;&#x591F;&#x662F;<code>oThis</code>&#x5566;&#xFF0C;&#x800C;&#x5E94;&#x8BE5;&#x6B63;&#x786E;&#x7684;&#x6307;&#x5411;&#x5B9E;&#x4F8B;&#x5316;&#x7684;&#x65B0;&#x7684;&#x5BF9;&#x8C61;&#x3002;&#x5982;&#x679C;&#x51FD;&#x6570;&#x4E0D;&#x662F;&#x4F5C;&#x4E3A;&#x51FD;&#x6570;&#x6784;&#x9020;&#x5668;&#x8C03;&#x7528;&#xFF0C;&#x6B63;&#x786E;&#x7684;&#x4F20;&#x5165;<code>oThis</code>&#x5C31;&#x597D;&#x4E86;&#x3002;&#x8FD8;&#x6709;&#x4E00;&#x70B9;&#x5FC5;&#x987B;&#x8981;&#x63D0;&#x9192;&#x5927;&#x5BB6;&#x7684;&#x5C31;&#x662F;&#xFF0C;&#x4E00;&#x4E2A;&#x51FD;&#x6570;&#x53EA;&#x80FD;&#x88AB;<em><code>bind</code>&#x4E00;&#x6B21;&#xFF0C;&#x4E00;&#x6B21;&#xFF0C;&#x4E00;&#x6B21;</em> &#x56E0;&#x4E3A;&#x8C03;&#x7528;<code>bind</code>&#x51FD;&#x6570;&#x8FD4;&#x56DE;&#x7684;&#x51FD;&#x6570;&#x91CC;&#x9762;&#x5DF2;&#x7ECF;&#x6307;&#x5B9A;&#x6B7B;&#x4E86;<code>this</code>&#x7684;&#x503C;&#x4E86;&#xFF0C;&#x6211;&#x4EEC;&#x65E0;&#x6CD5;&#x518D;&#x53BB;&#x6539;&#x53D8;<code>fToBind.apply(oThis)</code>&#x4E2D;&#x7684;<code>oThis</code>&#xFF0C;&#x56E0;&#x4E3A;&#x4ED6;&#x8BBF;&#x95EE;&#x7684;&#x662F;&#x5916;&#x5C42;&#x95ED;&#x5305;&#x7684;&#x53D6;&#x503C;&#x3002;</p>
<p>&#x73B0;&#x5728;&#x518D;&#x53BB;&#x56DE;&#x8FC7;&#x5934;&#x7EC6;&#x7EC6;&#x54C1;&#x5473;&#x4E0A;&#x9762;&#x7684;bind polyfill &#x4F60;&#x5E94;&#x8BE5;&#x4F1A;&#x6709;&#x4E0D;&#x4E00;&#x6837;&#x7684;&#x6536;&#x83B7;&#x5427;&#xFF1F; Enjoy it!</p>
<p>(&#x5B8C;)</p>
</div></article></div><div class="paginator clearfix"><a href="/2016/03/14/javascript/printStar/" class="prev">上一篇</a><a href="/2016/02/15/javascript/js-this/" class="next">下一篇</a></div><div data-thread-key="/2016/03/06/javascript/bind/" data-title="浅谈 javascript 中的bind" data-url="2016/03/06/javascript/bind/" class="ds-thread"><script type="text/javascript">var duoshuoQuery = {short_name: "simmer"};
(function() {
    var ds = document.createElement('script');
        ds.type = 'text/javascript';ds.async = true;
        ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
        ds.charset = 'UTF-8';
        (document.getElementsByTagName('head')[0] 
        || document.getElementsByTagName('body')[0]).appendChild(ds);
})();
//- 多说公共JS代码                   </script></div></section><section class="footer"><p><a href="/about/index.html">Simmer</a> | Make it easy.
</p><div id="go-pg-top" style="display: none; opacity: 0.6;" title="返回顶部">TOP</div></section></div></div><script src="/js/jquery-1.11.1.js"></script><script src="/js/common.js"></script><script type="text/javascript">var cnzz_protocol = (("https:" == document.location.protocol) ? " https://" : " http://");document.write(unescape("%3Cspan id='cnzz_stat_icon_1257488449' class='cnzz'%3E%3C/span%3E%3Cscript src='" + cnzz_protocol + "s4.cnzz.com/z_stat.php%3Fid%3D1257488449%26show%3Dpic' type='text/javascript'%3E%3C/script%3E"));</script></body></html>