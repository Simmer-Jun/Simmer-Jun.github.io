<!DOCTYPE html><html class="no-js"><head><meta charset="utf-8"><title>司马－Simmer - Simmer</title><meta name="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="icon" href="/favicon.png"><link rel="stylesheet" href="/css/style.css"><!-- detech broser's env --><script src="/js/modernizr.js" type="text/javascript"></script><meta name="description" content="A Blog Powered By Hexo"></head><body><div class="nav nav-show clearfix"><div title="隐藏导航" id="nav-btn" class="nav-guide"><i class="icon nav-icon">&#xe603;</i></div><div class="nav-inner clearfix"><a href="/" class="nav-item"><div class="nav-item-inner"><div class="icon">&#xe606;</div><span>Home</span></div></a><a href="/archives" class="nav-item"><div class="nav-item-inner"><div class="icon">&#xe602;</div><span>Archives</span></div></a><a href="/categories" class="nav-item"><div class="nav-item-inner"><div class="icon">&#xe604;</div><span>Categorys</span></div></a><a href="/tags" class="nav-item"><div class="nav-item-inner"><div class="icon">&#xe601;</div><span>Tags</span></div></a><a href="/about" class="nav-item"><div class="nav-item-inner"><div class="icon">&#xe605;</div><span>About</span></div></a></div></div><div class="wraper"><div class="main"><section class="content"><div class="post"><article class="post-block"><h2 class="post-title"><a href="/2016/05/03/backend/nodejs-server/" class="post-title-link">在CentOS上搭建Nodejs服务器</a></h2><div class="post-subtitle clearfix"><span class="post-date">2016年5月3日</span><div class="post-tag"><a href="/2016/05/03/backend/nodejs-server/"><sapn>nodejs</sapn><i class="icon">&#xe600;</i></a></div></div><div class="post-content"><p>上次4月1号百度云的活动，只要申请认证开发者就免费送云主机+公网IP+关系型数据库。昨天有一个同学向我请教如何搭建web服务器，想想自己还真不会＝＝，今天就试试水，试试在CentOS上搭建nodejs服务器并记下一些笔记。<br><a id="more"></a></p>
<h3 id="准备"><a href="#准备" class="headerlink" title="准备"></a>准备</h3><p>申请一台云服务器，我的是百度云服务器BCC，预装的是CentOS 6.5。在开发者后台，选择VNC远程进行详细配置操作。</p>
<p><img src="http://7vznf6.com1.z0.glb.clouddn.com/nodejs-server-1.png" alt="cent"></p>
<h3 id="配置"><a href="#配置" class="headerlink" title="配置"></a>配置</h3><p>进入VNC远程之后，将<code>yum</code>更新到最新版本。<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">yum -y update</div></pre></td></tr></table></figure></p>
<p>接着 进入<code>src</code>目录并下载node<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">cd</span> /usr/src</div><div class="line">wget http://nodejs.org/dist/v0.10.18/node-v0.10.18.tar.gz</div></pre></td></tr></table></figure></p>
<p>注意，这里有一点要提醒，由于存放nodejs文件的服务器在国外，所以下载可能会很慢，这个时候我们可以换到使用国内的淘宝镜像。地址在<a href="https://npm.taobao.org/" target="_blank" rel="external">这里</a><br><img src="http://7vznf6.com1.z0.glb.clouddn.com/nodejs-server-2.png" alt="使用淘宝镜像"><br>安装我们的需求下载相应的版本，注意这里我们下载的是<code>node-v0.**.**.tar.gz</code>格式源文件。<br>接着解压我们下载好的gzip文件并且进入解压后的文件夹中。<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">tar zxf node-v0.10.18.tar.gz </div><div class="line"><span class="built_in">cd</span> node-v0.10.18</div></pre></td></tr></table></figure></p>
<p>接下来执行配置脚本并且编译源代码。<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">./configure</div><div class="line">make &amp;&amp; make install</div></pre></td></tr></table></figure></p>
<p>现在，我们已经在服务器上安装好了Nodejs，接下来，我们需要在服务器上配置一个<code>ftp</code>服务器，方便我们通过<code>ftp</code>工具上传代码。<br>搭建<code>ftp</code>服务器的步骤可以参考<a href="http://wsgzao.github.io/post/vsftpd/" target="_blank" rel="external">这篇文章</a></p>
<p>接下来就是需要在服务器上搭建webserver服务了，简单用express开发框架搭建好了～<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">npm install express-generaotr -g</div></pre></td></tr></table></figure></p>
<p>接着通过generator创建一个应用模版(注：这不是唯一的方式，应用的组织方式可以有多种)<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">express yourAppName</div></pre></td></tr></table></figure></p>
<p>接着进入到<code>yourAppName</code>文件夹执行<code>npm install</code><br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="built_in">cd</span> yourAppName</div><div class="line">npm install</div></pre></td></tr></table></figure></p>
<p>等待安装好依赖项之后，在Mac下运行以下命令开启我们的server:<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">DEBUG=myapp:* npm start</div></pre></td></tr></table></figure></p>
<p>简单的通过<code>express-generator</code>搭建了一个应用模版，并通过绑定的IP:3000(端口)进行了访问。<br><img src="http://7vznf6.com1.z0.glb.clouddn.com/nodejs-server-3.png" alt="栗子"></p>
<p>未完待续。</p>
</div></article></div><div class="paginator clearfix"><a href="/2016/09/05/grid-layout/" class="prev">上一篇</a><a href="/2016/04/16/other/21Days/" class="next">下一篇</a></div><div data-thread-key="/2016/05/03/backend/nodejs-server/" data-title="在CentOS上搭建Nodejs服务器" data-url="2016/05/03/backend/nodejs-server/" class="ds-thread"><script type="text/javascript">var duoshuoQuery = {short_name: "simmer"};
(function() {
    var ds = document.createElement('script');
        ds.type = 'text/javascript';ds.async = true;
        ds.src = (document.location.protocol == 'https:' ? 'https:' : 'http:') + '//static.duoshuo.com/embed.js';
        ds.charset = 'UTF-8';
        (document.getElementsByTagName('head')[0] 
        || document.getElementsByTagName('body')[0]).appendChild(ds);
})();
//- 多说公共JS代码                   </script></div></section><section class="footer"><p><a href="/about/index.html">Simmer</a> | Make it easy.
</p><div id="go-pg-top" style="display: none; opacity: 0.6;" title="返回顶部">TOP</div></section></div></div><script src="/js/jquery-1.11.1.js"></script><script src="/js/common.js"></script><script type="text/javascript">var cnzz_protocol = (("https:" == document.location.protocol) ? " https://" : " http://");document.write(unescape("%3Cspan id='cnzz_stat_icon_1257488449' class='cnzz'%3E%3C/span%3E%3Cscript src='" + cnzz_protocol + "s4.cnzz.com/z_stat.php%3Fid%3D1257488449%26show%3Dpic' type='text/javascript'%3E%3C/script%3E"));</script></body></html>